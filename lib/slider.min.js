"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Slider=function(){function o(t,e){function n(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;clearTimeout(r.preBtnTimeOut),r.hover=!0,r.preBtnTimeOut=setTimeout(function(){return r.hover=!1},2*r.sp),r.fs(t)}_classCallCheck(this,o);var r=this;r.p=t,null!=e&&e.res?r.res=e.res:r.res={all:{show:2,to:1}},r.res.all||(r.res.all={o:(null==e?void 0:e.show)||2,to:(null==e?void 0:e.to)||1}),r.o=r.res.all.show,r.to=r.res.all.to,r.fr(),r.sp=(null==e?void 0:e.speed)||500,r.at=(null==e?void 0:e.auto)||!1,r.at&&setInterval(function(){var t;r.hover||r.fs((null==(t=r.at)?void 0:t.deraction)||1)},(null==(t=r.at)?void 0:t.delay)||2e3),r.ss=document.createElement("style"),document.head.appendChild(r.ss),r.ss.sheet.insertRule("\n        .slider-item {\n            min-width: calc((100% / ".concat(r.o,") - 16px);\n            max-width: calc((100% / ").concat(r.o,") - 16px);\n        }\n        ")),r.hanResize(),r.s=r.p.firstElementChild,r.i=r.s.children,r.t=r.i.length,r.cc=r.gcc(),r.cn=r.t+2*r.cc,r.x=r.cc,r.m=Math.max(0,r.cn-Math.ceil(r.o)),r.a=[],r.c=0,r.ins(),r.fs(0),r.ev();null!=e&&null!=(t=e.nxt)&&t.addEventListener("click",function(){return n()}),null!=e&&null!=(t=e.pre)&&t.addEventListener("click",function(){return n(-1)})}return _createClass(o,[{key:"gm",value:function(){var t=[];return this.o<this.t&&t.push(this.o),t.length||t.push(0),Math.ceil(Math.max.apply(null,t))}},{key:"gcc",value:function(){var t=this.gm(),e=Math.ceil((5*t-this.t)/2);return Math.max(t,e)}},{key:"ins",value:function(){var n=this;if(n.cc){var t=document.createDocumentFragment(),e=document.createDocumentFragment();n.ta=[],_toConsumableArray(n.i).forEach(function(t,e){t.dataset.id=e,n.ta.push(e)});for(var r=n.cc;r--;){var o=r%n.t,a=n.i[o].cloneNode(!0),o=n.t-1-o,o=n.i[o].cloneNode(!0);a.classList.add("clone"),e.insertBefore(a,e.firstChild),o.classList.add("clone"),t.appendChild(o)}n.s.insertBefore(t,n.s.firstChild),n.s.appendChild(e),_toConsumableArray(n.i).forEach(function(t){return n.a.push(+t.dataset.id)}),n.rp()}}},{key:"rp",value:function(){this.c=this.cc,this.s.style="transform: translate3d(".concat(-100/this.o*this.c,"%, 0px, 0px);transition: all ").concat(this.sp/1e3,"s ease 0s")}},{key:"fs",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,o=this,e=o.c+o.to*t,n=e+o.to*t,a=_toConsumableArray(o.ta).reverse();o.playBack=function(){var t=o.a[o.c]-o.to,e=o.a[o.c]+o.o+o.to;if(e>o.t&&(e%=o.t),t<0&&(t=a[-1*t-1]),-1==(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1)){for(var n=0;n<o.a.length;n++)if(!(n<=o.c)&&o.a[n]==o.a[o.c]&&o.a[n-o.to]==t){o.c=n;break}}else for(var r=o.a.length;-1<r;r--)if(!(r>=o.c)&&o.a[r]==o.a[o.c]&&o.a[r+o.o+o.to]==e){o.c=r;break}o.s.style="transform: translate3d(".concat(-100/o.o*o.c,"%, 0px, 0px);transition: all 0s ease 0s")},t&&(0<=e&&e<=o.a.length-o.o&&(o.c=e,o.s.style="transform: translate3d(".concat(-100/o.o*o.c,"%, 0px, 0px);transition: all ").concat(o.sp/1e3,"s ease 0s")),(n<0||n>o.a.length-o.o)&&setTimeout(function(){return o.playBack(t)},o.sp))}},{key:"fr",value:function(){var e,n=this,r=Object.keys(n.res).filter(function(t){return+t}).map(function(t){return+t}).sort(function(t,e){return t-e});n.hanResize=function(){var t=[].concat(_toConsumableArray(r),[window.innerWidth]).sort(function(t,e){return t-e}).findIndex(function(t){return t==window.innerWidth})-1,t=(-1!=t?(t=n.res[r[t]],n.o=(null==t?void 0:t.o)||n.o,n.to=(null==t?void 0:t.to)||n.to):(n.o=n.res.all.o,n.to=n.res.all.to),"calc((100% / ".concat(n.o,") - 16px)")),e=n.ss.sheet.cssRules[0].style;e.maxWidth=t,e.minWidth=t},window.addEventListener("resize",function(t){e&&clearTimeout(e),e=setTimeout(function(){n.hanResize(),n.rp()},200)})}},{key:"ev",value:function(){function t(t){var e,n,r,o;a.ssb=!0,a.sts&&clearTimeout(a.sts),t.cancelable&&t.preventDefault(),t.stopPropagation(),a.hover=!0,(t.clientX||t.touches)&&(e=a.p.getBoundingClientRect(),n=(t.clientX||t.touches[0].clientX)-e.x,r=a.c,o=function(t){a.txp=-100/a.o*r-(n-(t.clientX||t.touches[0].clientX)-e.x)/e.width*100},a.fmt=function(t){o(t),a.c=Math.round(Math.abs(a.txp/(100/a.o))),(a.txp<=(a.a.length-a.o)*(-100/a.o)||0<=a.txp)&&(n=(t.clientX||t.touches[0].clientX)-e.x,a.playBack(0<=a.txp?-1:1),r=a.c,o(t)),a.s.style="transform: translate3d(".concat(a.txp,"%, 0px, 0px);transition:0s")},window.addEventListener("touchmove",a.fmt),window.addEventListener("mousemove",a.fmt))}function e(t){a.ssb&&(window.removeEventListener("touchmove",a.fmt),window.removeEventListener("mousemove",a.fmt),a.sts=setTimeout(function(){return a.hover=!1},2*a.sp),a.txp&&(a.c=Math.round(Math.abs(a.txp/(100/a.o))),a.s.style="transform: translate3d(".concat(-100/a.o*a.c,"%, 0px, 0px);transition: all ").concat(a.sp/1e3/1.5,"s ease 0s")),a.ssb=!1)}var a=this;a.p.addEventListener("mouseover",function(){a.hover=!0});a.p.addEventListener("touchstart",t),a.s.addEventListener("mousedown",t),a.p.addEventListener("touchend",e),window.addEventListener("mouseup",e),a.p.addEventListener("mouseleave",function(){a.hover=!1})}}]),o}();