"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Slider=function(){function o(e,t){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;clearTimeout(r.preBtnTimeOut),r.hover=!0,r.preBtnTimeOut=setTimeout(function(){return r.hover=!1},2*r.sp),r.fs(e)}_classCallCheck(this,o);var r=this;r.p=e,null!=t&&t.res?r.res=t.res:r.res={all:{show:2,to:1}},r.res.all||(r.res.all={o:(null==t?void 0:t.show)||2,to:(null==t?void 0:t.to)||1}),r.o=r.res.all.show,r.to=r.res.all.to,r.fr(),r.sp=(null==t?void 0:t.speed)||500,r.at=(null==t?void 0:t.auto)||!1,r.at&&setInterval(function(){var e;r.hover||r.fs((null==(e=r.at)?void 0:e.deraction)||1)},(null==(e=r.at)?void 0:e.delay)||2e3),r.ss=document.createElement("style"),document.head.appendChild(r.ss),r.ss.sheet.insertRule("\n        .slider-item {\n            min-width: calc((100% / ".concat(r.o,") - 16px);\n            max-width: calc((100% / ").concat(r.o,") - 16px);\n        }\n        ")),r.hanResize(),r.s=r.p.firstElementChild,r.i=r.s.children,r.t=r.i.length,r.cc=r.gcc(),r.cn=r.t+2*r.cc,r.x=r.cc,r.m=Math.max(0,r.cn-Math.ceil(r.o)),r.a=[],r.c=0,r.ins(),r.fs(0),r.ev();null!=t&&null!=(e=t.nxt)&&e.addEventListener("click",function(){return n()}),null!=t&&null!=(e=t.pre)&&e.addEventListener("click",function(){return n(-1)})}return _createClass(o,[{key:"gm",value:function(){var e=[];return this.o<this.t&&e.push(this.o),e.length||e.push(0),Math.ceil(Math.max.apply(null,e))}},{key:"gcc",value:function(){var e=this.gm(),t=Math.ceil((5*e-this.t)/2);return Math.max(e,t)}},{key:"ins",value:function(){var n=this;if(n.cc){var e=document.createDocumentFragment(),t=document.createDocumentFragment();n.ta=[],_toConsumableArray(n.i).forEach(function(e,t){e.dataset.id=t,n.ta.push(t)});for(var r=n.cc;r--;){var o=r%n.t,a=n.i[o].cloneNode(!0),o=n.t-1-o,o=n.i[o].cloneNode(!0);a.classList.add("clone"),t.insertBefore(a,t.firstChild),o.classList.add("clone"),e.appendChild(o)}n.s.insertBefore(e,n.s.firstChild),n.s.appendChild(t),_toConsumableArray(n.i).forEach(function(e){return n.a.push(+e.dataset.id)}),n.rp()}}},{key:"rp",value:function(){this.c=this.cc,this.s.style="transform: translate3d(".concat(-100/this.o*this.c,"%, 0px, 0px);transition: all ").concat(this.sp/1e3,"s ease 0s")}},{key:"fs",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,o=this,t=o.c+o.to*e,n=t+o.to*e,a=_toConsumableArray(o.ta).reverse();o.playBack=function(){var e=o.a[o.c]-o.to,t=o.a[o.c]+o.o+o.to;if(t>o.t&&(t%=o.t),e<0&&(e=a[-1*e-1]),-1==(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1)){for(var n=0;n<o.a.length;n++)if(!(n<=o.c)&&o.a[n]==o.a[o.c]&&o.a[n-o.to]==e){o.c=n;break}}else for(var r=o.a.length;-1<r;r--)if(!(r>=o.c)&&o.a[r]==o.a[o.c]&&o.a[r+o.o+o.to]==t){o.c=r;break}o.s.style="transform: translate3d(".concat(-100/o.o*o.c,"%, 0px, 0px);transition: all 0s ease 0s")},e&&(0<=t&&t<=o.a.length-o.o&&(o.c=t,o.s.style="transform: translate3d(".concat(-100/o.o*o.c,"%, 0px, 0px);transition: all ").concat(o.sp/1e3,"s ease 0s")),(n<0||n>o.a.length-o.o)&&setTimeout(function(){return o.playBack(e)},o.sp))}},{key:"fr",value:function(){var t,n=this,r=Object.keys(n.res).filter(function(e){return+e}).map(function(e){return+e}).sort(function(e,t){return e-t});n.hanResize=function(){var e=[].concat(_toConsumableArray(r),[window.innerWidth]).sort(function(e,t){return e-t}).findIndex(function(e){return e==window.innerWidth})-1,e=(-1!=e?(e=n.res[r[e]],n.o=(null==e?void 0:e.o)||n.o,n.to=(null==e?void 0:e.to)||n.to):(n.o=n.res.all.o,n.to=n.res.all.to),"calc((100% / ".concat(n.o,") - 16px)")),t=n.ss.sheet.cssRules[0].style;t.maxWidth=e,t.minWidth=e},window.addEventListener("resize",function(e){t&&clearTimeout(t),t=setTimeout(function(){n.hanResize(),n.rp()},200)})}},{key:"ev",value:function(){function e(e){function t(e){a.temXpos=-100/a.o*o-(r-(e.clientX||e.touches[0].clientX)-n.x)/n.width*100}e.cancelable&&e.preventDefault(),e.stopPropagation(),a.hover=!0;var n=a.p.getBoundingClientRect(),r=(e.clientX||e.touches[0].clientX)-n.x,o=a.c;a.touchMove=function(e){t(e),a.c=Math.round(Math.abs(a.temXpos/(100/a.o))),(a.temXpos<=(a.a.length-a.o)*(-100/a.o)||0<=a.temXpos)&&(r=(e.clientX||e.touches[0].clientX)-n.x,a.playBack(0<=a.temXpos?-1:1),o=a.c,t(e)),a.s.style="transform: translate3d(".concat(a.temXpos,"%, 0px, 0px);transition:0s")},window.addEventListener("touchmove",a.touchMove),window.addEventListener("mousemove",a.touchMove)}function t(e){window.removeEventListener("touchmove",a.touchMove),window.removeEventListener("mousemove",a.touchMove),setTimeout(function(){return a.hover=!1},2*a.sp),a.temXpos&&(a.c=Math.round(Math.abs(a.temXpos/(100/a.o))),a.s.style="transform: translate3d(".concat(-100/a.o*a.c,"%, 0px, 0px);transition: all ").concat(a.sp/1e3/1.5,"s ease 0s"))}var a=this;a.p.addEventListener("mouseover",function(){a.hover=!0});a.p.addEventListener("touchstart",e),a.s.addEventListener("mousedown",e),a.p.addEventListener("touchend",t),a.p.addEventListener("mouseup",t),a.p.addEventListener("mouseleave",function(){a.hover=!1})}}]),o}();